# 25장. 클래스

## 💡 25.6 클래스의 인스턴스 생성 과정

### 1. 인스턴스 생성과 this 바인딩

- new 연산자와 함께 클래스를 호출하면 암묵적으로 빈 객체가 생성됨

- 클래스가 생성한 인스턴스의 프로토타입으로 클래스의 prototype 프로퍼티가 가리키는 객체가 설정됨

- 빈 객체, 즉 인스턴스는 this에 바인딩 됨

### 2. 인스턴스 초기화

- constructor의 내부 코드가 실행되어 this에 바인딩되어 있는 인스턴스를 초기화 함

- constructor가 인수로 전달받은 초기값으로 인스턴스의 프로퍼티 값을 초기화 함

- 만약 constructor가 생략되었으면 이 과정도 생략

### 3. 인스턴스 반환

- 클래스의 모든 처리가 끝나면 완성된 인스턴스가 바인딩된 this가 암묵적으로 반환됨

<br><br>

## 💡 25.7 프로퍼티

### 1. 인스턴스 프로퍼티

인스턴스 프로퍼티는 constructor 내부에서 정의한다.

constructor 내부 코드가 실행되기 이전에 this에 빈 객체가 바인딩 되고, constructor 내부 코드가 실행되면서 this에 인스턴스 프로퍼티를 추가한다. 이로써 클래스가 암묵적으로 생성한 빈 객체, 즉 인스턴스에 프로퍼티가 추가되어 인스턴스가 초기화된다.

<br>

### 2. 접근자 프로퍼티

접근자 프로퍼티는 자체적으로 값을 갖지 않고 다른 데이터 프로퍼티의 값을 읽거나 저장할 때 사용하는 접근자 함수(setter, getter)로 구성된 프로퍼티다.

getter는 인스턴스 프로퍼티에 접근할 때마다 프로퍼티 값을 조작하거나 별도의 행위가 필요할때 사용한다. getter는 메서드 앞에 get 키워드를 사용해 정의한다.

setter는 인스턴스 프로퍼티에 값을 할당할 때마다 프로퍼티 값을 조작하거나 별도의 행위가 필요할 때 사용한다. setter는 메서드 이름 앞에 set 키워드를 사용해 정의한다. setter는 단 하나의 값만 할당받기 때문에 단 하나의 매개변수만 선언할 수 있다.

getter와 setter 이름은 인스턴스 프로퍼티처럼 사용한다.

<br>

### 3. 클래스 필드 정의 제안

자바스크립트에서도 최신 브라우저와 최신 Node.js에서는 클래스 필드를 클래스 몸체에 정의할 수 있다.

```js
class Person {
  name = 'Lee';
}

const me = new Person();
console.log(me); // Person {name: 'Lee'}
```

> 자바스크립트 클래스 필드 특징

- 클래스 몸체에서 필드를 정의하는 경우 this에 클래스 필드를 바인딩 해서는 안된다.

- 클래스 필드를 참조하는 경우 this를 반드시 사용해야 한다.

- 클래스 필드에 초기값을 할당하지 않으면 undefined를 갖는다.

- 인스턴스를 생성할 때 외부의 초기값으로 클래스 필드를 초기화해야 할 필요가 있다면 constructor에서 클래스 필드를 초기화해야 한다.

<br>

### 4. private 필드 정의 제안

최신 브라우저와 최신 Node.js의 자바스크립트에서 private 필드를 정의할 수 있다.

private 필드의 선두에는 #을 붙여준다. 이는 참조할 때도 #을 붙여주어야 한다.

```js
class Person {
  #name = '';

  constructor(name) {
    this.#name = name;
  }
}

const me = new Person('Lee');

// private 필드 #name은 클래스 외부에서 참조할 수 없다.
console.log(me.#name); // SyntaxError
```

public 필드는 어디서든 참조할 수 있지만 private 필드는 클래스 내부에서만 참조할 수 있다. 다만 접근자 프로퍼티를 통해 간접적으로 접근하는 방법은 유효하다.

private 필드는 반드시 클래스 몸체에 정의해야 한다.

<br>

### 5. static 필드 정의 제안

최신 브라우저와 최신 Node.js의 자바스크립트에서 static 필드를 정의할 수 있다.

```js
class MtMath {
  // static public 필드
  static PI = 22 / 7;

  // static private 필드
  static #num = 10;

  // static 메서드
  static increment() {
    return ++MyMath.#num;
  }
}

console.log(MyMath.PI); // 3.142857142857143
console.log(MyMath.increment()); // 11
```
